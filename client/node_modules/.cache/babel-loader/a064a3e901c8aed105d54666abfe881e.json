{"ast":null,"code":"import _slicedToArray from\"/Users/seokhyunkim/Desktop/projects/fake_reddit/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{Button}from\"reactstrap\";var Reply=function Reply(_ref){var commentID=_ref.commentID,username=_ref.username,createdAt=_ref.createdAt,content=_ref.content,points=_ref.points;var _useState=useState(points),_useState2=_slicedToArray(_useState,2),newUpVote=_useState2[0],setUpVote=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),upVoteClicked=_useState4[0],setUpVoteClicked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showReply=_useState6[0],setShowReply=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),replyContent=_useState8[0],setReplyContent=_useState8[1];var upVoteComment=function upVoteComment(isUpVote){axios.patch(\"/api/posts/upvote/comment\",{isUpVote:isUpVote,commentID:commentID}).then(function(res){return res.data;}).then(function(data){return console.log(data.message);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"reply-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"vertical-line\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"cmt\"},/*#__PURE__*/React.createElement(\"div\",{className:\"comment-vote-bar\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(!upVoteClicked){setUpVote(points+1);setUpVoteClicked(true);upVoteComment(true);}else{setUpVote(points);setUpVoteClicked(false);upVoteComment(false);}},className:\"comment-vote-button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-up\"})),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(!upVoteClicked){if(points>0){setUpVote(points-1);setUpVoteClicked(true);upVoteComment(false);}}else{setUpVote(points);setUpVoteClicked(false);upVoteComment(true);}},className:\"comment-vote-button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-down\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"comment-contents\"},/*#__PURE__*/React.createElement(\"p\",{className:\"posted-by\"},username,\" \",newUpVote,\" points \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-circle\"}),createdAt),/*#__PURE__*/React.createElement(\"p\",{className:\"comment-text\"},content),localStorage.getItem(\"username\")?/*#__PURE__*/React.createElement(\"div\",{className:\"comment-reply\"},/*#__PURE__*/React.createElement(\"button\",{id:\"reply-button\",type:\"button\",onClick:function onClick(){return setShowReply(!showReply);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-comment\"}),\"Reply\")):/*#__PURE__*/React.createElement(\"div\",null))),showReply?/*#__PURE__*/React.createElement(\"div\",{className:\"comment-box-container\"},/*#__PURE__*/React.createElement(\"form\",{method:\"POST\"},/*#__PURE__*/React.createElement(\"div\",{className:\"reply\"},/*#__PURE__*/React.createElement(\"div\",{className:\"vertical-line\"}),/*#__PURE__*/React.createElement(\"textarea\",{className:\"comment-box\",name:\"\",id:\"\",cols:\"30\",rows:\"10\",placeholder:\"What are your thoughts?\",onChange:function onChange(e){setReplyContent(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{id:\"cmt-btn-container\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"primary\",id:\"comment-btn\",disabled:!replyContent},\"COMMENT\")))):/*#__PURE__*/React.createElement(\"div\",null));};export default Reply;","map":{"version":3,"sources":["/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/Reply.js"],"names":["React","useState","axios","Button","Reply","commentID","username","createdAt","content","points","newUpVote","setUpVote","upVoteClicked","setUpVoteClicked","showReply","setShowReply","replyContent","setReplyContent","upVoteComment","isUpVote","patch","then","res","data","console","log","message","localStorage","getItem","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"reactstrap\";\n\nconst Reply = ({ commentID, username, createdAt, content, points }) => {\n  const [newUpVote, setUpVote] = useState(points);\n  const [upVoteClicked, setUpVoteClicked] = useState(false);\n  const [showReply, setShowReply] = useState(false);\n  const [replyContent, setReplyContent] = useState(\"\");\n\n  const upVoteComment = (isUpVote) => {\n    axios\n      .patch(\"/api/posts/upvote/comment\", {\n        isUpVote: isUpVote,\n        commentID: commentID,\n      })\n      .then((res) => res.data)\n      .then((data) => console.log(data.message));\n  };\n\n  return (\n    <div className=\"reply-container\">\n      <div className=\"vertical-line\"></div>\n      <div className=\"cmt\">\n        <div className=\"comment-vote-bar\">\n          <button\n            onClick={() => {\n              if (!upVoteClicked) {\n                setUpVote(points + 1);\n                setUpVoteClicked(true);\n                upVoteComment(true);\n              } else {\n                setUpVote(points);\n                setUpVoteClicked(false);\n                upVoteComment(false);\n              }\n            }}\n            className=\"comment-vote-button\"\n          >\n            <i className=\"fas fa-arrow-up\"></i>\n          </button>\n          <button\n            onClick={() => {\n              if (!upVoteClicked) {\n                if (points > 0) {\n                  setUpVote(points - 1);\n                  setUpVoteClicked(true);\n                  upVoteComment(false);\n                }\n              } else {\n                setUpVote(points);\n                setUpVoteClicked(false);\n                upVoteComment(true);\n              }\n            }}\n            className=\"comment-vote-button\"\n          >\n            <i className=\"fas fa-arrow-down\"></i>\n          </button>\n        </div>\n        <div className=\"comment-contents\">\n          <p className=\"posted-by\">\n            {username} {newUpVote} points <i className=\"fas fa-circle\"></i>\n            {createdAt}\n          </p>\n          <p className=\"comment-text\">{content}</p>\n\n          {localStorage.getItem(\"username\") ? (\n            <div className=\"comment-reply\">\n              <button\n                id=\"reply-button\"\n                type=\"button\"\n                onClick={() => setShowReply(!showReply)}\n              >\n                <i className=\"fas fa-comment\"></i>\n                Reply\n              </button>\n            </div>\n          ) : (\n            <div></div>\n          )}\n        </div>\n      </div>\n\n      {showReply ? (\n        <div className=\"comment-box-container\">\n          <form method=\"POST\">\n            <div className=\"reply\">\n              <div className=\"vertical-line\"></div>\n              <textarea\n                className=\"comment-box\"\n                name=\"\"\n                id=\"\"\n                cols=\"30\"\n                rows=\"10\"\n                placeholder=\"What are your thoughts?\"\n                onChange={(e) => {\n                  setReplyContent(e.target.value);\n                }}\n              ></textarea>\n            </div>\n            <div id=\"cmt-btn-container\">\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                id=\"comment-btn\"\n                disabled={!replyContent}\n              >\n                COMMENT\n              </Button>\n            </div>\n          </form>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n};\n\nexport default Reply;\n"]},"metadata":{},"sourceType":"module"}