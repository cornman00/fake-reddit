{"ast":null,"code":"import _slicedToArray from\"/Users/seokhyunkim/Desktop/projects/fake_reddit/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import axios from\"axios\";import CommunityBanner from\"../home/CommunityBanner\";import{Button}from\"reactstrap\";var CreatePost=function CreatePost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(localStorage.getItem(\"username\")),_useState6=_slicedToArray(_useState5,1),username=_useState6[0];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post(\"/api/submit\",{title:title,content:content,username:username}).then(function(res){return res.json;}).then(function(data){history.goBack();console.log(data);}).catch(function(err){console.log(err);alert(\"Failed submitting your post\");});};return/*#__PURE__*/React.createElement(\"div\",{className:\"create-post-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"create-post-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"create-post-left-container\"},/*#__PURE__*/React.createElement(\"p\",null,\"Create a post\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"post-box\"},/*#__PURE__*/React.createElement(\"form\",{method:\"POST\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"title\",placeholder:\"Title\",onChange:function onChange(e){return setTitle(e.target.value);},required:true}),/*#__PURE__*/React.createElement(\"textarea\",{id:\"content\",name:\"content\",placeholder:\"Text\",onChange:function onChange(e){return setContent(e.target.value);},required:true}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",className:\"post-button\",color:\"primary\"},\"POST\")))),/*#__PURE__*/React.createElement(CommunityBanner,null)));};export default CreatePost;","map":{"version":3,"sources":["/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/CreatePost.js"],"names":["React","useState","useHistory","axios","CommunityBanner","Button","CreatePost","title","setTitle","content","setContent","localStorage","getItem","username","history","handleSubmit","e","preventDefault","post","then","res","json","data","goBack","console","log","catch","err","alert","target","value"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,yBAA5B,CACA,OAASC,MAAT,KAAuB,YAAvB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eACGL,QAAQ,CAAC,EAAD,CADX,wCAChBM,KADgB,eACTC,QADS,8BAEOP,QAAQ,CAAC,EAAD,CAFf,yCAEhBQ,OAFgB,eAEPC,UAFO,8BAGJT,QAAQ,CAACU,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAHJ,yCAGhBC,QAHgB,eAIvB,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CAEA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAd,KAAK,CACFe,IADH,CACQ,aADR,CACuB,CACnBX,KAAK,CAAEA,KADY,CAEnBE,OAAO,CAAEA,OAFU,CAGnBI,QAAQ,CAAEA,QAHS,CADvB,EAMGM,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAb,EANR,EAOGF,IAPH,CAOQ,SAACG,IAAD,CAAU,CACdR,OAAO,CAACS,MAAR,GACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACD,CAVH,EAWGI,KAXH,CAWS,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACAC,KAAK,CAAC,6BAAD,CAAL,CACD,CAdH,EAeD,CAjBD,CAmBA,mBACE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BAAK,SAAS,CAAC,4BAAf,eACE,6CADF,cAEE,8BAFF,cAGE,2BAAK,SAAS,CAAC,UAAf,eACE,4BAAM,MAAM,CAAC,MAAb,CAAoB,QAAQ,CAAEb,YAA9B,eACE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,WAAW,CAAC,OAHd,CAIE,QAAQ,CAAE,kBAACC,CAAD,QAAOR,CAAAA,QAAQ,CAACQ,CAAC,CAACa,MAAF,CAASC,KAAV,CAAf,EAJZ,CAKE,QAAQ,KALV,EADF,cAQE,gCACE,EAAE,CAAC,SADL,CAEE,IAAI,CAAC,SAFP,CAGE,WAAW,CAAC,MAHd,CAIE,QAAQ,CAAE,kBAACd,CAAD,QAAON,CAAAA,UAAU,CAACM,CAAC,CAACa,MAAF,CAASC,KAAV,CAAjB,EAJZ,CAKE,QAAQ,KALV,EARF,cAeE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,aAAhC,CAA8C,KAAK,CAAC,SAApD,SAfF,CADF,CAHF,CADF,cA2BE,oBAAC,eAAD,MA3BF,CADF,CADF,CAiCD,CA1DD,CA4DA,cAAexB,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport CommunityBanner from \"../home/CommunityBanner\";\nimport { Button } from \"reactstrap\";\n\nconst CreatePost = () => {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [username] = useState(localStorage.getItem(\"username\"));\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"/api/submit\", {\n        title: title,\n        content: content,\n        username: username,\n      })\n      .then((res) => res.json)\n      .then((data) => {\n        history.goBack();\n        console.log(data);\n      })\n      .catch((err) => {\n        console.log(err);\n        alert(\"Failed submitting your post\");\n      });\n  };\n\n  return (\n    <div className=\"create-post-container\">\n      <div className=\"create-post-main\">\n        <div className=\"create-post-left-container\">\n          <p>Create a post</p>\n          <hr />\n          <div className=\"post-box\">\n            <form method=\"POST\" onSubmit={handleSubmit}>\n              <input\n                type=\"text\"\n                name=\"title\"\n                placeholder=\"Title\"\n                onChange={(e) => setTitle(e.target.value)}\n                required\n              />\n              <textarea\n                id=\"content\"\n                name=\"content\"\n                placeholder=\"Text\"\n                onChange={(e) => setContent(e.target.value)}\n                required\n              />\n              <Button type=\"submit\" className=\"post-button\" color=\"primary\">\n                POST\n              </Button>\n            </form>\n          </div>\n        </div>\n\n        <CommunityBanner />\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}