{"ast":null,"code":"import _slicedToArray from\"/Users/seokhyunkim/Desktop/projects/fake_reddit/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";var PostSummary=function PostSummary(_ref){var postID=_ref.postID,title=_ref.title,content=_ref.content,username=_ref.username,comments_num=_ref.comments_num,createdAt=_ref.createdAt,upVote=_ref.upVote;var _useState=useState(upVote),_useState2=_slicedToArray(_useState,2),newUpVote=_useState2[0],setUpVote=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),upVoteClicked=_useState4[0],setUpVoteClicked=_useState4[1];var url_title=title.replace(/ /g,\"_\");var upVotePost=function upVotePost(isUpVote){axios.patch(\"/api/posts/upvote\",{isUpVote:isUpVote,postID:postID}).then(function(res){return res.data;}).then(function(data){return console.log(data.message);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"post-summary-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"vote-bar\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(!upVoteClicked){setUpVote(upVote+1);setUpVoteClicked(true);upVotePost(true);}else{setUpVote(upVote);setUpVoteClicked(false);upVotePost(false);}},className:\"vote-button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-up\"})),newUpVote===0?/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-circle \"}):newUpVote,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(!upVoteClicked){if(upVote>0){setUpVote(upVote-1);setUpVoteClicked(true);upVotePost(false);}}else{setUpVote(upVote);setUpVoteClicked(false);upVotePost(true);}},className:\"vote-button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-down\"}))),/*#__PURE__*/React.createElement(Link,{to:\"/comments/\".concat(postID,\"/\").concat(url_title),style:{textDecoration:\"none\",color:\"black\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"summary-contents\"},/*#__PURE__*/React.createElement(\"p\",{className:\"posted-by\"},\"Posted by u/\",username,\" \",createdAt),/*#__PURE__*/React.createElement(\"p\",{className:\"post-summary-title\"},title),/*#__PURE__*/React.createElement(\"p\",{className:\"post-summary\"},content),/*#__PURE__*/React.createElement(\"div\",{className:\"summary-functions\"},comments_num,\" Comments\"))));};export default PostSummary;","map":{"version":3,"sources":["/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/PostSummary.js"],"names":["React","useState","Link","axios","PostSummary","postID","title","content","username","comments_num","createdAt","upVote","newUpVote","setUpVote","upVoteClicked","setUpVoteClicked","url_title","replace","upVotePost","isUpVote","patch","then","res","data","console","log","message","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nconst PostSummary = ({\n  postID,\n  title,\n  content,\n  username,\n  comments_num,\n  createdAt,\n  upVote,\n}) => {\n  const [newUpVote, setUpVote] = useState(upVote);\n  const [upVoteClicked, setUpVoteClicked] = useState(false);\n  const url_title = title.replace(/ /g, \"_\");\n\n  const upVotePost = (isUpVote) => {\n    axios\n      .patch(\"/api/posts/upvote\", { isUpVote: isUpVote, postID: postID })\n      .then((res) => res.data)\n      .then((data) => console.log(data.message));\n  };\n\n  return (\n    <div className=\"post-summary-container\">\n      <div className=\"vote-bar\">\n        <button\n          onClick={() => {\n            if (!upVoteClicked) {\n              setUpVote(upVote + 1);\n              setUpVoteClicked(true);\n              upVotePost(true);\n            } else {\n              setUpVote(upVote);\n              setUpVoteClicked(false);\n              upVotePost(false);\n            }\n          }}\n          className=\"vote-button\"\n        >\n          <i className=\"fas fa-arrow-up\"></i>\n        </button>\n        {newUpVote === 0 ? <i className=\"fas fa-circle \"></i> : newUpVote}\n        <button\n          onClick={() => {\n            if (!upVoteClicked) {\n              if (upVote > 0) {\n                setUpVote(upVote - 1);\n                setUpVoteClicked(true);\n                upVotePost(false);\n              }\n            } else {\n              setUpVote(upVote);\n              setUpVoteClicked(false);\n              upVotePost(true);\n            }\n          }}\n          className=\"vote-button\"\n        >\n          <i className=\"fas fa-arrow-down\"></i>\n        </button>\n      </div>\n      <Link\n        to={`/comments/${postID}/${url_title}`}\n        style={{ textDecoration: \"none\", color: \"black\" }}\n      >\n        <div className=\"summary-contents\">\n          <p className=\"posted-by\">\n            Posted by u/{username} {createdAt}\n          </p>\n          <p className=\"post-summary-title\">{title}</p>\n          <p className=\"post-summary\">{content}</p>\n          <div className=\"summary-functions\">{comments_num} Comments</div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default PostSummary;\n"]},"metadata":{},"sourceType":"module"}