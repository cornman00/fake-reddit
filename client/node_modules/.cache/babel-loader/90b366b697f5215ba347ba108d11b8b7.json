{"ast":null,"code":"var _jsxFileName = \"/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/Comment.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"reactstrap\";\n\nconst Comment = ({\n  commentID,\n  username,\n  createdAt,\n  content,\n  points\n}) => {\n  const [newUpVote, setUpVote] = useState(points);\n  const [upVoteClicked, setUpVoteClicked] = useState(false);\n  const [showReply, setShowReply] = useState(false);\n  const [replyContent, setReplyContent] = useState(\"\");\n\n  const upVoteComment = isUpVote => {\n    axios.patch(\"/posts/upvote/comment\", {\n      isUpVote: isUpVote,\n      commentID: commentID\n    }).then(res => res.data).then(data => console.log(data.message));\n  };\n\n  const postReply = e => {\n    e.preventDefault();\n    axios.post(\"http://localhost:5000/post_reply\", {\n      parentID: commentID,\n      username: localStorage.getItem(\"username\"),\n      content: replyContent,\n      postID: postID\n    }).then(window.location.reload()).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cmt-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-vote-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (!upVoteClicked) {\n        setUpVote(points + 1);\n        setUpVoteClicked(true);\n        upVoteComment(true);\n      } else {\n        setUpVote(points);\n        setUpVoteClicked(false);\n        upVoteComment(false);\n      }\n    },\n    className: \"comment-vote-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (!upVoteClicked) {\n        if (points > 0) {\n          setUpVote(points - 1);\n          setUpVoteClicked(true);\n          upVoteComment(false);\n        }\n      } else {\n        setUpVote(points);\n        setUpVoteClicked(false);\n        upVoteComment(true);\n      }\n    },\n    className: \"comment-vote-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"posted-by\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, username, \" \", newUpVote, \" points \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 41\n    }\n  }), createdAt), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"comment-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, content), localStorage.getItem(\"username\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-reply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"reply-button\",\n    type: \"button\",\n    onClick: () => setShowReply(!showReply),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }), \"Reply\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), showReply ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-box-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"POST\",\n    onSubmit: postReply,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"comment-box\",\n    name: \"\",\n    id: \"\",\n    cols: \"30\",\n    rows: \"10\",\n    placeholder: \"What are your thoughts?\",\n    onChange: e => {\n      setReplyContent(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cmt-btn-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    id: \"comment-btn\",\n    disabled: !replyContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"COMMENT\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Comment;","map":{"version":3,"sources":["/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/Comment.js"],"names":["React","useState","axios","Button","Comment","commentID","username","createdAt","content","points","newUpVote","setUpVote","upVoteClicked","setUpVoteClicked","showReply","setShowReply","replyContent","setReplyContent","upVoteComment","isUpVote","patch","then","res","data","console","log","message","postReply","e","preventDefault","post","parentID","localStorage","getItem","postID","window","location","reload","catch","err","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,YAAvB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,QAAb;AAAuBC,EAAAA,SAAvB;AAAkCC,EAAAA,OAAlC;AAA2CC,EAAAA;AAA3C,CAAD,KAAyD;AACvE,QAAM,CAACC,SAAD,EAAYC,SAAZ,IAAyBV,QAAQ,CAACQ,MAAD,CAAvC;AACA,QAAM,CAACG,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACe,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,CAAC,EAAD,CAAhD;;AAEA,QAAMiB,aAAa,GAAIC,QAAD,IAAc;AAClCjB,IAAAA,KAAK,CACFkB,KADH,CACS,uBADT,EACkC;AAC9BD,MAAAA,QAAQ,EAAEA,QADoB;AAE9Bd,MAAAA,SAAS,EAAEA;AAFmB,KADlC,EAKGgB,IALH,CAKSC,GAAD,IAASA,GAAG,CAACC,IALrB,EAMGF,IANH,CAMSE,IAAD,IAAUC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAjB,CANlB;AAOD,GARD;;AAUA,QAAMC,SAAS,GAAIC,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACA3B,IAAAA,KAAK,CACF4B,IADH,CACQ,kCADR,EAC4C;AACxCC,MAAAA,QAAQ,EAAE1B,SAD8B;AAExCC,MAAAA,QAAQ,EAAE0B,YAAY,CAACC,OAAb,CAAqB,UAArB,CAF8B;AAGxCzB,MAAAA,OAAO,EAAEQ,YAH+B;AAIxCkB,MAAAA,MAAM,EAAEA;AAJgC,KAD5C,EAOGb,IAPH,CAOQc,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAPR,EAQGC,KARH,CAQUC,GAAD,IAASf,OAAO,CAACC,GAAR,CAAYc,GAAZ,CARlB;AASD,GAXD;;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAE,MAAM;AACb,UAAI,CAAC3B,aAAL,EAAoB;AAClBD,QAAAA,SAAS,CAACF,MAAM,GAAG,CAAV,CAAT;AACAI,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAK,QAAAA,aAAa,CAAC,IAAD,CAAb;AACD,OAJD,MAIO;AACLP,QAAAA,SAAS,CAACF,MAAD,CAAT;AACAI,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAK,QAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF,KAXH;AAYE,IAAA,SAAS,EAAC,qBAZZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAcE;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,CADF,eAiBE;AACE,IAAA,OAAO,EAAE,MAAM;AACb,UAAI,CAACN,aAAL,EAAoB;AAClB,YAAIH,MAAM,GAAG,CAAb,EAAgB;AACdE,UAAAA,SAAS,CAACF,MAAM,GAAG,CAAV,CAAT;AACAI,UAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAK,UAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF,OAND,MAMO;AACLP,QAAAA,SAAS,CAACF,MAAD,CAAT;AACAI,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAK,QAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF,KAbH;AAcE,IAAA,SAAS,EAAC,qBAdZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAgBE;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CAjBF,CADF,eAqCE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,QADH,OACcI,SADd,2BACgC;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhC,EAEGH,SAFH,CADF,eAKE;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BC,OAA7B,CALF,EAOGwB,YAAY,CAACC,OAAb,CAAqB,UAArB,iBACC;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,EAAE,EAAC,cADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,MAAMlB,YAAY,CAAC,CAACD,SAAF,CAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,UADF,CADD,gBAYC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBJ,CArCF,EA2DGA,SAAS,gBACR;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,MAAM,EAAC,MAAb;AAAoB,IAAA,QAAQ,EAAEa,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,aADZ;AAEE,IAAA,IAAI,EAAC,EAFP;AAGE,IAAA,EAAE,EAAC,EAHL;AAIE,IAAA,IAAI,EAAC,IAJP;AAKE,IAAA,IAAI,EAAC,IALP;AAME,IAAA,WAAW,EAAC,yBANd;AAOE,IAAA,QAAQ,EAAGC,CAAD,IAAO;AACfX,MAAAA,eAAe,CAACW,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf;AACD,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAYE;AAAK,IAAA,EAAE,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,EAAE,EAAC,aAHL;AAIE,IAAA,QAAQ,EAAE,CAACzB,YAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAZF,CADF,CADQ,gBA2BR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtFJ,CADF;AA2FD,CAxHD;;AA0HA,eAAeZ,OAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"reactstrap\";\n\nconst Comment = ({ commentID, username, createdAt, content, points }) => {\n  const [newUpVote, setUpVote] = useState(points);\n  const [upVoteClicked, setUpVoteClicked] = useState(false);\n  const [showReply, setShowReply] = useState(false);\n  const [replyContent, setReplyContent] = useState(\"\");\n\n  const upVoteComment = (isUpVote) => {\n    axios\n      .patch(\"/posts/upvote/comment\", {\n        isUpVote: isUpVote,\n        commentID: commentID,\n      })\n      .then((res) => res.data)\n      .then((data) => console.log(data.message));\n  };\n\n  const postReply = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"http://localhost:5000/post_reply\", {\n        parentID: commentID,\n        username: localStorage.getItem(\"username\"),\n        content: replyContent,\n        postID: postID,\n      })\n      .then(window.location.reload())\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"cmt-container\">\n      <div className=\"comment-vote-bar\">\n        <button\n          onClick={() => {\n            if (!upVoteClicked) {\n              setUpVote(points + 1);\n              setUpVoteClicked(true);\n              upVoteComment(true);\n            } else {\n              setUpVote(points);\n              setUpVoteClicked(false);\n              upVoteComment(false);\n            }\n          }}\n          className=\"comment-vote-button\"\n        >\n          <i className=\"fas fa-arrow-up\"></i>\n        </button>\n        <button\n          onClick={() => {\n            if (!upVoteClicked) {\n              if (points > 0) {\n                setUpVote(points - 1);\n                setUpVoteClicked(true);\n                upVoteComment(false);\n              }\n            } else {\n              setUpVote(points);\n              setUpVoteClicked(false);\n              upVoteComment(true);\n            }\n          }}\n          className=\"comment-vote-button\"\n        >\n          <i className=\"fas fa-arrow-down\"></i>\n        </button>\n      </div>\n      <div className=\"comment-contents\">\n        <p className=\"posted-by\">\n          {username} {newUpVote} points <i className=\"fas fa-circle\"></i>\n          {createdAt}\n        </p>\n        <p className=\"comment-text\">{content}</p>\n\n        {localStorage.getItem(\"username\") ? (\n          <div className=\"comment-reply\">\n            <button\n              id=\"reply-button\"\n              type=\"button\"\n              onClick={() => setShowReply(!showReply)}\n            >\n              <i className=\"fas fa-comment\"></i>\n              Reply\n            </button>\n          </div>\n        ) : (\n          <div></div>\n        )}\n      </div>\n      {showReply ? (\n        <div className=\"comment-box-container\">\n          <form method=\"POST\" onSubmit={postReply}>\n            <textarea\n              className=\"comment-box\"\n              name=\"\"\n              id=\"\"\n              cols=\"30\"\n              rows=\"10\"\n              placeholder=\"What are your thoughts?\"\n              onChange={(e) => {\n                setReplyContent(e.target.value);\n              }}\n            ></textarea>\n            <div id=\"cmt-btn-container\">\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                id=\"comment-btn\"\n                disabled={!replyContent}\n              >\n                COMMENT\n              </Button>\n            </div>\n          </form>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n};\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}