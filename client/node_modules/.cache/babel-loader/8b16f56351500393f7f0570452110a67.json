{"ast":null,"code":"var _jsxFileName = \"/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/Comment.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"reactstrap\";\n\nconst Comment = ({\n  commentID,\n  username,\n  createdAt,\n  content,\n  points,\n  postID\n}) => {\n  const [newUpVote, setUpVote] = useState(points);\n  const [upVoteClicked, setUpVoteClicked] = useState(false);\n  const [showReply, setShowReply] = useState(false);\n  const [replyContent, setReplyContent] = useState(\"\");\n  const [replyList, setReplyList] = useState([]);\n  useEffect(() => {\n    getReply();\n  }, []);\n\n  const upVoteComment = isUpVote => {\n    axios.patch(\"/posts/upvote/comment\", {\n      isUpVote: isUpVote,\n      commentID: commentID\n    }).then(res => res.data).then(data => console.log(data.message));\n  };\n\n  const postReply = e => {\n    e.preventDefault();\n    axios.post(\"http://localhost:5000/post_reply\", {\n      parentID: commentID,\n      username: localStorage.getItem(\"username\"),\n      content: replyContent,\n      postID: postID\n    }).then(window.location.reload()).catch(err => console.log(err));\n  };\n\n  const getReply = () => {\n    axios.get(\"http://localhost:5000/get_reply\", {\n      params: {\n        commentID: commentID\n      }\n    }).then(res => res.data).then(data => {\n      console.log(data);\n      setReplyList(data.replies);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cmt-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cmt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-vote-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (!upVoteClicked) {\n        setUpVote(points + 1);\n        setUpVoteClicked(true);\n        upVoteComment(true);\n      } else {\n        setUpVote(points);\n        setUpVoteClicked(false);\n        upVoteComment(false);\n      }\n    },\n    className: \"comment-vote-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (!upVoteClicked) {\n        if (points > 0) {\n          setUpVote(points - 1);\n          setUpVoteClicked(true);\n          upVoteComment(false);\n        }\n      } else {\n        setUpVote(points);\n        setUpVoteClicked(false);\n        upVoteComment(true);\n      }\n    },\n    className: \"comment-vote-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"posted-by\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, username, \" \", newUpVote, \" points \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 43\n    }\n  }), createdAt), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"comment-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, content), localStorage.getItem(\"username\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-reply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"reply-button\",\n    type: \"button\",\n    onClick: () => setShowReply(!showReply),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }), \"Reply\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }))), showReply ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-box-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"POST\",\n    onSubmit: postReply,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vertical-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"comment-box\",\n    name: \"\",\n    id: \"\",\n    cols: \"30\",\n    rows: \"10\",\n    placeholder: \"What are your thoughts?\",\n    onChange: e => {\n      setReplyContent(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cmt-btn-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    id: \"comment-btn\",\n    disabled: !replyContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"COMMENT\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"replies\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Comment;","map":{"version":3,"sources":["/Users/seokhyunkim/Desktop/projects/fake_reddit/client/src/components/post/Comment.js"],"names":["React","useState","useEffect","axios","Button","Comment","commentID","username","createdAt","content","points","postID","newUpVote","setUpVote","upVoteClicked","setUpVoteClicked","showReply","setShowReply","replyContent","setReplyContent","replyList","setReplyList","getReply","upVoteComment","isUpVote","patch","then","res","data","console","log","message","postReply","e","preventDefault","post","parentID","localStorage","getItem","window","location","reload","catch","err","get","params","replies","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"reactstrap\";\n\nconst Comment = ({\n  commentID,\n  username,\n  createdAt,\n  content,\n  points,\n  postID,\n}) => {\n  const [newUpVote, setUpVote] = useState(points);\n  const [upVoteClicked, setUpVoteClicked] = useState(false);\n  const [showReply, setShowReply] = useState(false);\n  const [replyContent, setReplyContent] = useState(\"\");\n  const [replyList, setReplyList] = useState([]);\n\n  useEffect(() => {\n    getReply();\n  }, []);\n\n  const upVoteComment = (isUpVote) => {\n    axios\n      .patch(\"/posts/upvote/comment\", {\n        isUpVote: isUpVote,\n        commentID: commentID,\n      })\n      .then((res) => res.data)\n      .then((data) => console.log(data.message));\n  };\n\n  const postReply = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"http://localhost:5000/post_reply\", {\n        parentID: commentID,\n        username: localStorage.getItem(\"username\"),\n        content: replyContent,\n        postID: postID,\n      })\n      .then(window.location.reload())\n      .catch((err) => console.log(err));\n  };\n\n  const getReply = () => {\n    axios\n      .get(\"http://localhost:5000/get_reply\", {\n        params: { commentID: commentID },\n      })\n      .then((res) => res.data)\n      .then((data) => {\n        console.log(data);\n        setReplyList(data.replies);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"cmt-container\">\n      <div className=\"cmt\">\n        <div className=\"comment-vote-bar\">\n          <button\n            onClick={() => {\n              if (!upVoteClicked) {\n                setUpVote(points + 1);\n                setUpVoteClicked(true);\n                upVoteComment(true);\n              } else {\n                setUpVote(points);\n                setUpVoteClicked(false);\n                upVoteComment(false);\n              }\n            }}\n            className=\"comment-vote-button\"\n          >\n            <i className=\"fas fa-arrow-up\"></i>\n          </button>\n          <button\n            onClick={() => {\n              if (!upVoteClicked) {\n                if (points > 0) {\n                  setUpVote(points - 1);\n                  setUpVoteClicked(true);\n                  upVoteComment(false);\n                }\n              } else {\n                setUpVote(points);\n                setUpVoteClicked(false);\n                upVoteComment(true);\n              }\n            }}\n            className=\"comment-vote-button\"\n          >\n            <i className=\"fas fa-arrow-down\"></i>\n          </button>\n        </div>\n        <div className=\"comment-contents\">\n          <p className=\"posted-by\">\n            {username} {newUpVote} points <i className=\"fas fa-circle\"></i>\n            {createdAt}\n          </p>\n          <p className=\"comment-text\">{content}</p>\n\n          {localStorage.getItem(\"username\") ? (\n            <div className=\"comment-reply\">\n              <button\n                id=\"reply-button\"\n                type=\"button\"\n                onClick={() => setShowReply(!showReply)}\n              >\n                <i className=\"fas fa-comment\"></i>\n                Reply\n              </button>\n            </div>\n          ) : (\n            <div></div>\n          )}\n        </div>\n      </div>\n\n      {showReply ? (\n        <div className=\"comment-box-container\">\n          <form method=\"POST\" onSubmit={postReply}>\n            <div className=\"reply\">\n              <div className=\"vertical-line\"></div>\n              <textarea\n                className=\"comment-box\"\n                name=\"\"\n                id=\"\"\n                cols=\"30\"\n                rows=\"10\"\n                placeholder=\"What are your thoughts?\"\n                onChange={(e) => {\n                  setReplyContent(e.target.value);\n                }}\n              ></textarea>\n            </div>\n            <div id=\"cmt-btn-container\">\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                id=\"comment-btn\"\n                disabled={!replyContent}\n              >\n                COMMENT\n              </Button>\n            </div>\n          </form>\n        </div>\n      ) : (\n        <div></div>\n      )}\n      <div className=\"replies\"></div>\n    </div>\n  );\n};\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}